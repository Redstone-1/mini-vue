{"version":3,"file":"vue.js","sources":["../../src/utils/index.js","../../src/observer/index.js","../../src/state.js","../../src/init.js","../../src/index.js"],"sourcesContent":["export function isObject (target) {\n  return typeof target === 'object' && target !== null;\n}","import { isObject } from \"../utils/index\";\n\nexport function observe(data) {\n  if (!isObject(data)) {\n    return\n  }\n\n  new Observer(data);\n}\n\nclass Observer {\n  constructor(values) {\n    this.walk(values)\n  }\n  walk(data) {\n    let keys = Object.keys(data);\n    keys.forEach((key) => {\n      // 定义响应式数据\n      defineReactive(data, key, data[key]);\n    })\n  }\n}\n\nfunction defineReactive (data, key, value) {\n  observe(value); // 如果对象属性也是对象，递归劫持\n  Object.defineProperty(data, key, {\n    get() {\n      return value\n    },\n    set(newValue) {\n      if (newValue === value) return;\n      observe(newValue); // 如果用户给对象从新赋值，劫持新值\n      value = newValue;\n    }\n  })\n}","import { observe } from './observer/index';\n\nexport function initState (vm) {\n  const options = vm.$options;\n  console.log('options>>>>>', options);\n  if (options.props) {\n    initProps(vm);\n  }\n  if (options.methods) {\n    initMethods(vm);\n  }\n  if (options.data) {\n    initData(vm);\n  }\n  if (options.computed) {\n    initComputed(vm);\n  }\n  if (options.watch) {\n    initWatch(vm);\n  }\n}\n\nfunction initProps(vm) {\n  \n}\n\nfunction initMethods(vm) {\n\n}\n\nfunction initData(vm) {\n  const { $options } = vm;\n  let data = $options.data;\n  data = vm._data = typeof data === \"function\" ? data.call(vm) : data;\n  // 数据劫持\n  observe(data)\n}\n\nfunction initComputed(vm) {\n\n}\n\nfunction initWatch(vm) {\n\n}\n\n","import { initState } from \"./state\";\n\nexport function initMixin (Vue) {\n  Vue.prototype._init = function (options) {\n    const vm = this;\n    vm.$options = options;\n    // 初始化状态\n    initState(vm)\n  }\n}","import { initMixin } from './init.js';\n\nfunction Vue(options) {\n  this._init(options)\n}\n\ninitMixin(Vue)\n\nexport default Vue;"],"names":["isObject","target","observe","data","Observer","values","walk","keys","Object","forEach","key","defineReactive","value","defineProperty","get","set","newValue","initState","vm","options","$options","console","log","props","methods","initData","computed","watch","_data","call","initMixin","Vue","prototype","_init"],"mappings":"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"}